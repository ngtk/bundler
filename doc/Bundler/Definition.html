<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Bundler::Definition
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Bundler::Definition";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (D)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Bundler.html" title="Bundler (module)">Bundler</a></span></span>
     &raquo; 
    <span class="title">Definition</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="../class_list.html"></iframe>

      <div id="content"><h1>Class: Bundler::Definition
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Bundler::Definition</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="GemHelpers.html" title="Bundler::GemHelpers (module)">GemHelpers</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/bundler/definition.rb</dd>
  </dl>
  
</div>




  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="GemHelpers.html" title="Bundler::GemHelpers (module)">GemHelpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="GemHelpers.html#GENERICS-constant" title="Bundler::GemHelpers::GENERICS (constant)">GemHelpers::GENERICS</a></span>, <span class='object_link'><a href="GemHelpers.html#GENERIC_CACHE-constant" title="Bundler::GemHelpers::GENERIC_CACHE (constant)">GemHelpers::GENERIC_CACHE</a></span></p>


  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#dependencies-instance_method" title="#dependencies (instance method)">#<strong>dependencies</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute dependencies.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#gem_version_promoter-instance_method" title="#gem_version_promoter (instance method)">#<strong>gem_version_promoter</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute gem_version_promoter.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#locked_deps-instance_method" title="#locked_deps (instance method)">#<strong>locked_deps</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute locked_deps.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#locked_gems-instance_method" title="#locked_gems (instance method)">#<strong>locked_gems</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute locked_gems.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#platforms-instance_method" title="#platforms (instance method)">#<strong>platforms</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute platforms.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#requires-instance_method" title="#requires (instance method)">#<strong>requires</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute requires.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#ruby_version-instance_method" title="#ruby_version (instance method)">#<strong>ruby_version</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute ruby_version.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build-class_method" title="build (class method)">.<strong>build</strong>(gemfile, lockfile, unlock)  &#x21d2; Bundler::Definition </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a gemfile and lockfile creates a Bundler definition.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_current_platform-instance_method" title="#add_current_platform (instance method)">#<strong>add_current_platform</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_platform-instance_method" title="#add_platform (instance method)">#<strong>add_platform</strong>(platform)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_gem_version_promoter-instance_method" title="#create_gem_version_promoter (instance method)">#<strong>create_gem_version_promoter</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_dependencies-instance_method" title="#current_dependencies (instance method)">#<strong>current_dependencies</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ensure_equivalent_gemfile_and_lockfile-instance_method" title="#ensure_equivalent_gemfile_and_lockfile (instance method)">#<strong>ensure_equivalent_gemfile_and_lockfile</strong>(explicit_flag = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_indexed_specs-instance_method" title="#find_indexed_specs (instance method)">#<strong>find_indexed_specs</strong>(current_spec)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_resolved_spec-instance_method" title="#find_resolved_spec (instance method)">#<strong>find_resolved_spec</strong>(current_spec)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fixup_dependency_types%21-instance_method" title="#fixup_dependency_types! (instance method)">#<strong>fixup_dependency_types!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#groups-instance_method" title="#groups (instance method)">#<strong>groups</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_local_dependencies%3F-instance_method" title="#has_local_dependencies? (instance method)">#<strong>has_local_dependencies?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_rubygems_remotes%3F-instance_method" title="#has_rubygems_remotes? (instance method)">#<strong>has_rubygems_remotes?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(lockfile, dependencies, sources, unlock, ruby_version = nil, optional_groups = [])  &#x21d2; Definition </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>How does the new system work?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lock-instance_method" title="#lock (instance method)">#<strong>lock</strong>(file, preserve_unknown_sections = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#locked_bundler_version-instance_method" title="#locked_bundler_version (instance method)">#<strong>locked_bundler_version</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#locked_ruby_version-instance_method" title="#locked_ruby_version (instance method)">#<strong>locked_ruby_version</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#locked_ruby_version_object-instance_method" title="#locked_ruby_version_object (instance method)">#<strong>locked_ruby_version_object</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#missing_dependencies-instance_method" title="#missing_dependencies (instance method)">#<strong>missing_dependencies</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#missing_specs-instance_method" title="#missing_specs (instance method)">#<strong>missing_specs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_platform%3F-instance_method" title="#new_platform? (instance method)">#<strong>new_platform?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_specs-instance_method" title="#new_specs (instance method)">#<strong>new_specs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_platform-instance_method" title="#remove_platform (instance method)">#<strong>remove_platform</strong>(platform)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#removed_specs-instance_method" title="#removed_specs (instance method)">#<strong>removed_specs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#requested_specs-instance_method" title="#requested_specs (instance method)">#<strong>requested_specs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve-instance_method" title="#resolve (instance method)">#<strong>resolve</strong>  &#x21d2; SpecSet </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Resolve all the dependencies specified in Gemfile.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_remotely%21-instance_method" title="#resolve_remotely! (instance method)">#<strong>resolve_remotely!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_with_cache%21-instance_method" title="#resolve_with_cache! (instance method)">#<strong>resolve_with_cache!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rubygems_index-instance_method" title="#rubygems_index (instance method)">#<strong>rubygems_index</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>used when frozen is enabled so we can find the bundler spec, even if (say)
a git gem is not checked out.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#spec_git_paths-instance_method" title="#spec_git_paths (instance method)">#<strong>spec_git_paths</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#specs-instance_method" title="#specs (instance method)">#<strong>specs</strong>  &#x21d2; Bundler::SpecSet </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>For given dependency list returns a SpecSet with Gemspec of all the
required dependencies.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#specs_for-instance_method" title="#specs_for (instance method)">#<strong>specs_for</strong>(groups)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_lock-instance_method" title="#to_lock (instance method)">#<strong>to_lock</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_platforms%21-instance_method" title="#validate_platforms! (instance method)">#<strong>validate_platforms!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_ruby%21-instance_method" title="#validate_ruby! (instance method)">#<strong>validate_ruby!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_runtime%21-instance_method" title="#validate_runtime! (instance method)">#<strong>validate_runtime!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="GemHelpers.html" title="Bundler::GemHelpers (module)">GemHelpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="GemHelpers.html#generic-class_method" title="Bundler::GemHelpers.generic (method)">generic</a></span>, <span class='object_link'><a href="GemHelpers.html#generic_local_platform-class_method" title="Bundler::GemHelpers.generic_local_platform (method)">generic_local_platform</a></span>, <span class='object_link'><a href="GemHelpers.html#platform_specificity_match-class_method" title="Bundler::GemHelpers.platform_specificity_match (method)">platform_specificity_match</a></span>, <span class='object_link'><a href="GemHelpers.html#select_best_platform_match-class_method" title="Bundler::GemHelpers.select_best_platform_match (method)">select_best_platform_match</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(lockfile, dependencies, sources, unlock, ruby_version = nil, optional_groups = [])  &#x21d2; <tt><span class='object_link'><a href="" title="Bundler::Definition (class)">Definition</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>How does the new system work?</p>
<ul><li>
<p>Load information from Gemfile and Lockfile</p>
</li><li>
<p>Invalidate stale locked specs</p>
</li><li>
<p>All specs from stale source are stale</p>
</li><li>
<p>All specs that are reachable only through a stale dependency are stale.</p>
</li><li>
<p>If all fresh dependencies are satisfied by the locked</p>
</li></ul>

<pre class="code ruby"><code class="ruby">specs, then we can try to resolve locally.</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>lockfile</span>
      
      
        <span class='type'>(<tt>Pathname</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path to Gemfile.lock</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dependencies</span>
      
      
        <span class='type'>(<tt>Array(<span class='object_link'><a href="Dependency.html" title="Bundler::Dependency (class)">Bundler::Dependency</a></span>)</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>array of dependencies from Gemfile</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sources</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="SourceList.html" title="Bundler::SourceList (class)">Bundler::SourceList</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>unlock</span>
      
      
        <span class='type'>(<tt>Hash</tt>, <tt>Boolean</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Gems that have been requested to be updated or true if all gems should be
updated</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ruby_version</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="RubyVersion.html" title="Bundler::RubyVersion (class)">Bundler::RubyVersion</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Requested Ruby Version</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>optional_groups</span>
      
      
        <span class='type'>(<tt>Array(String)</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>A list of optional groups</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 54</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_lockfile'>lockfile</span><span class='comma'>,</span> <span class='id identifier rubyid_dependencies'>dependencies</span><span class='comma'>,</span> <span class='id identifier rubyid_sources'>sources</span><span class='comma'>,</span> <span class='id identifier rubyid_unlock'>unlock</span><span class='comma'>,</span> <span class='id identifier rubyid_ruby_version'>ruby_version</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_optional_groups'>optional_groups</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='ivar'>@unlocking</span> <span class='op'>=</span> <span class='id identifier rubyid_unlock'>unlock</span> <span class='op'>==</span> <span class='kw'>true</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_unlock'>unlock</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='ivar'>@dependencies</span>    <span class='op'>=</span> <span class='id identifier rubyid_dependencies'>dependencies</span>
  <span class='ivar'>@sources</span>         <span class='op'>=</span> <span class='id identifier rubyid_sources'>sources</span>
  <span class='ivar'>@unlock</span>          <span class='op'>=</span> <span class='id identifier rubyid_unlock'>unlock</span>
  <span class='ivar'>@optional_groups</span> <span class='op'>=</span> <span class='id identifier rubyid_optional_groups'>optional_groups</span>
  <span class='ivar'>@remote</span>          <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@specs</span>           <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@ruby_version</span>    <span class='op'>=</span> <span class='id identifier rubyid_ruby_version'>ruby_version</span>

  <span class='ivar'>@lockfile</span>               <span class='op'>=</span> <span class='id identifier rubyid_lockfile'>lockfile</span>
  <span class='ivar'>@lockfile_contents</span>      <span class='op'>=</span> <span class='const'>String</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@locked_bundler_version</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@locked_ruby_version</span>    <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_lockfile'>lockfile</span> <span class='op'>&amp;&amp;</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_lockfile'>lockfile</span><span class='rparen'>)</span>
    <span class='ivar'>@lockfile_contents</span> <span class='op'>=</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_read_file'>read_file</span><span class='lparen'>(</span><span class='id identifier rubyid_lockfile'>lockfile</span><span class='rparen'>)</span>
    <span class='ivar'>@locked_gems</span> <span class='op'>=</span> <span class='const'>LockfileParser</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@lockfile_contents</span><span class='rparen'>)</span>
    <span class='ivar'>@locked_platforms</span> <span class='op'>=</span> <span class='ivar'>@locked_gems</span><span class='period'>.</span><span class='id identifier rubyid_platforms'>platforms</span>
    <span class='ivar'>@platforms</span> <span class='op'>=</span> <span class='ivar'>@locked_platforms</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@locked_bundler_version</span> <span class='op'>=</span> <span class='ivar'>@locked_gems</span><span class='period'>.</span><span class='id identifier rubyid_bundler_version'>bundler_version</span>
    <span class='ivar'>@locked_ruby_version</span> <span class='op'>=</span> <span class='ivar'>@locked_gems</span><span class='period'>.</span><span class='id identifier rubyid_ruby_version'>ruby_version</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_unlock'>unlock</span> <span class='op'>!=</span> <span class='kw'>true</span>
      <span class='ivar'>@locked_deps</span>    <span class='op'>=</span> <span class='ivar'>@locked_gems</span><span class='period'>.</span><span class='id identifier rubyid_dependencies'>dependencies</span>
      <span class='ivar'>@locked_specs</span>   <span class='op'>=</span> <span class='const'>SpecSet</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@locked_gems</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='rparen'>)</span>
      <span class='ivar'>@locked_sources</span> <span class='op'>=</span> <span class='ivar'>@locked_gems</span><span class='period'>.</span><span class='id identifier rubyid_sources'>sources</span>
    <span class='kw'>else</span>
      <span class='ivar'>@unlock</span>         <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
      <span class='ivar'>@locked_deps</span>    <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='ivar'>@locked_specs</span>   <span class='op'>=</span> <span class='const'>SpecSet</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='ivar'>@locked_sources</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@unlock</span>         <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='ivar'>@platforms</span>      <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='ivar'>@locked_gems</span>    <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@locked_deps</span>    <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='ivar'>@locked_specs</span>   <span class='op'>=</span> <span class='const'>SpecSet</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='ivar'>@locked_sources</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='ivar'>@locked_platforms</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='ivar'>@unlock</span><span class='lbracket'>[</span><span class='symbol'>:gems</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@unlock</span><span class='lbracket'>[</span><span class='symbol'>:sources</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@unlock</span><span class='lbracket'>[</span><span class='symbol'>:ruby</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='kw'>if</span> <span class='ivar'>@ruby_version</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_locked_ruby_version_object'>locked_ruby_version_object</span>
    <span class='ivar'>@ruby_version</span><span class='period'>.</span><span class='id identifier rubyid_diff'>diff</span><span class='lparen'>(</span><span class='id identifier rubyid_locked_ruby_version_object'>locked_ruby_version_object</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@unlocking</span> <span class='op'>||=</span> <span class='ivar'>@unlock</span><span class='lbracket'>[</span><span class='symbol'>:ruby</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lparen'>(</span><span class='op'>!</span><span class='ivar'>@locked_ruby_version</span> <span class='op'>^</span> <span class='op'>!</span><span class='ivar'>@ruby_version</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_add_current_platform'>add_current_platform</span> <span class='kw'>unless</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:frozen</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_converge_path_sources_to_gemspec_sources'>converge_path_sources_to_gemspec_sources</span>
  <span class='ivar'>@path_changes</span> <span class='op'>=</span> <span class='id identifier rubyid_converge_paths'>converge_paths</span>
  <span class='ivar'>@source_changes</span> <span class='op'>=</span> <span class='id identifier rubyid_converge_sources'>converge_sources</span>

  <span class='kw'>unless</span> <span class='ivar'>@unlock</span><span class='lbracket'>[</span><span class='symbol'>:lock_shared_dependencies</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_eager_unlock'>eager_unlock</span> <span class='op'>=</span> <span class='id identifier rubyid_expand_dependencies'>expand_dependencies</span><span class='lparen'>(</span><span class='ivar'>@unlock</span><span class='lbracket'>[</span><span class='symbol'>:gems</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='ivar'>@unlock</span><span class='lbracket'>[</span><span class='symbol'>:gems</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@locked_specs</span><span class='period'>.</span><span class='id identifier rubyid_for'>for</span><span class='lparen'>(</span><span class='id identifier rubyid_eager_unlock'>eager_unlock</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='ivar'>@gem_version_promoter</span> <span class='op'>=</span> <span class='id identifier rubyid_create_gem_version_promoter'>create_gem_version_promoter</span>

  <span class='ivar'>@dependency_changes</span> <span class='op'>=</span> <span class='id identifier rubyid_converge_dependencies'>converge_dependencies</span>
  <span class='ivar'>@local_changes</span> <span class='op'>=</span> <span class='id identifier rubyid_converge_locals'>converge_locals</span>

  <span class='ivar'>@requires</span> <span class='op'>=</span> <span class='id identifier rubyid_compute_requires'>compute_requires</span>

  <span class='id identifier rubyid_fixup_dependency_types!'>fixup_dependency_types!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="dependencies-instance_method">
  
    #<strong>dependencies</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute dependencies</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dependencies'>dependencies</span>
  <span class='ivar'>@dependencies</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="gem_version_promoter-instance_method">
  
    #<strong>gem_version_promoter</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute gem_version_promoter</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gem_version_promoter'>gem_version_promoter</span>
  <span class='ivar'>@gem_version_promoter</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="locked_deps-instance_method">
  
    #<strong>locked_deps</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute locked_deps</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_locked_deps'>locked_deps</span>
  <span class='ivar'>@locked_deps</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="locked_gems-instance_method">
  
    #<strong>locked_gems</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute locked_gems</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_locked_gems'>locked_gems</span>
  <span class='ivar'>@locked_gems</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="platforms-instance_method">
  
    #<strong>platforms</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute platforms</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_platforms'>platforms</span>
  <span class='ivar'>@platforms</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="requires-instance_method">
  
    #<strong>requires</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute requires</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_requires'>requires</span>
  <span class='ivar'>@requires</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="ruby_version-instance_method">
  
    #<strong>ruby_version</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute ruby_version</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ruby_version'>ruby_version</span>
  <span class='ivar'>@ruby_version</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="build-class_method">
  
    .<strong>build</strong>(gemfile, lockfile, unlock)  &#x21d2; <tt><span class='object_link'><a href="" title="Bundler::Definition (class)">Bundler::Definition</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a gemfile and lockfile creates a Bundler definition</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>gemfile</span>
      
      
        <span class='type'>(<tt>Pathname</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path to Gemfile</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>lockfile</span>
      
      
        <span class='type'>(<tt>Pathname</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path to Gemfile.lock</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unlock</span>
      
      
        <span class='type'>(<tt>Hash</tt>, <tt>Boolean</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Gems that have been requested to be updated or true if all gems should be
updated</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Bundler::Definition (class)">Bundler::Definition</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="GemfileNotFound.html" title="Bundler::GemfileNotFound (class)">GemfileNotFound</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 27</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_gemfile'>gemfile</span><span class='comma'>,</span> <span class='id identifier rubyid_lockfile'>lockfile</span><span class='comma'>,</span> <span class='id identifier rubyid_unlock'>unlock</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_unlock'>unlock</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_gemfile'>gemfile</span> <span class='op'>=</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_gemfile'>gemfile</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>GemfileNotFound</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gemfile'>gemfile</span><span class='embexpr_end'>}</span><span class='tstring_content'> not found</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_gemfile'>gemfile</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span>

  <span class='const'>Dsl</span><span class='period'>.</span><span class='id identifier rubyid_evaluate'>evaluate</span><span class='lparen'>(</span><span class='id identifier rubyid_gemfile'>gemfile</span><span class='comma'>,</span> <span class='id identifier rubyid_lockfile'>lockfile</span><span class='comma'>,</span> <span class='id identifier rubyid_unlock'>unlock</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_current_platform-instance_method">
  
    #<strong>add_current_platform</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


528
529
530
531
532</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 528</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_current_platform'>add_current_platform</span>
  <span class='id identifier rubyid_current_platform'>current_platform</span> <span class='op'>=</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_local_platform'>local_platform</span>
  <span class='id identifier rubyid_add_platform'>add_platform</span><span class='lparen'>(</span><span class='id identifier rubyid_current_platform'>current_platform</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:specific_platform</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_add_platform'>add_platform</span><span class='lparen'>(</span><span class='id identifier rubyid_generic'>generic</span><span class='lparen'>(</span><span class='id identifier rubyid_current_platform'>current_platform</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_platform-instance_method">
  
    #<strong>add_platform</strong>(platform)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


518
519
520
521</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 518</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_platform'>add_platform</span><span class='lparen'>(</span><span class='id identifier rubyid_platform'>platform</span><span class='rparen'>)</span>
  <span class='ivar'>@new_platform</span> <span class='op'>||=</span> <span class='op'>!</span><span class='ivar'>@platforms</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_platform'>platform</span><span class='rparen'>)</span>
  <span class='ivar'>@platforms</span> <span class='op'>|=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_platform'>platform</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_gem_version_promoter-instance_method">
  
    #<strong>create_gem_version_promoter</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


141
142
143
144
145
146
147
148
149
150
151
152</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 141</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_gem_version_promoter'>create_gem_version_promoter</span>
  <span class='id identifier rubyid_locked_specs'>locked_specs</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='ivar'>@unlocking</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@locked_specs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@lockfile_contents</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='comment'># Definition uses an empty set of locked_specs to indicate all gems
</span>      <span class='comment'># are unlocked, but GemVersionPromoter needs the locked_specs
</span>      <span class='comment'># for conservative comparison.
</span>      <span class='const'>Bundler</span><span class='op'>::</span><span class='const'>SpecSet</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@locked_gems</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='ivar'>@locked_specs</span>
    <span class='kw'>end</span>
  <span class='const'>GemVersionPromoter</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_locked_specs'>locked_specs</span><span class='comma'>,</span> <span class='ivar'>@unlock</span><span class='lbracket'>[</span><span class='symbol'>:gems</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_dependencies-instance_method">
  
    #<strong>current_dependencies</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 228</span>

<span class='kw'>def</span> <span class='id identifier rubyid_current_dependencies'>current_dependencies</span>
  <span class='id identifier rubyid_dependencies'>dependencies</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:should_include?</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ensure_equivalent_gemfile_and_lockfile-instance_method">
  
    #<strong>ensure_equivalent_gemfile_and_lockfile</strong>(explicit_flag = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ProductionError.html" title="Bundler::ProductionError (class)">ProductionError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 405</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_equivalent_gemfile_and_lockfile'>ensure_equivalent_gemfile_and_lockfile</span><span class='lparen'>(</span><span class='id identifier rubyid_explicit_flag'>explicit_flag</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='const'>String</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You are trying to install in deployment mode after changing\n</span><span class='tstring_end'>&quot;</span></span> \
         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>your Gemfile. Run `bundle install` elsewhere and add the\n</span><span class='tstring_end'>&quot;</span></span> \
         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>updated </span><span class='embexpr_beg'>#{</span><span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_default_lockfile'>default_lockfile</span><span class='period'>.</span><span class='id identifier rubyid_relative_path_from'>relative_path_from</span><span class='lparen'>(</span><span class='const'>SharedHelpers</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> to version control.</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_explicit_flag'>explicit_flag</span>

    <span class='id identifier rubyid_suggested_command'>suggested_command</span> <span class='op'>=</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='period'>.</span><span class='id identifier rubyid_locations'>locations</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>frozen</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:global</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundle config --delete frozen</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundle install --no-deployment</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\nIf this is a development machine, remove the </span><span class='embexpr_beg'>#{</span><span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_default_gemfile'>default_gemfile</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> \
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>freeze \nby running `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suggested_command'>suggested_command</span><span class='embexpr_end'>}</span><span class='tstring_content'>`.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_added'>added</span> <span class='op'>=</span>   <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_deleted'>deleted</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_changed'>changed</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_new_platforms'>new_platforms</span> <span class='op'>=</span> <span class='ivar'>@platforms</span> <span class='op'>-</span> <span class='ivar'>@locked_platforms</span>
  <span class='id identifier rubyid_deleted_platforms'>deleted_platforms</span> <span class='op'>=</span> <span class='ivar'>@locked_platforms</span> <span class='op'>-</span> <span class='ivar'>@platforms</span>
  <span class='id identifier rubyid_added'>added</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_new_platforms'>new_platforms</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* platform: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_deleted'>deleted</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_deleted_platforms'>deleted_platforms</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* platform: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_gemfile_sources'>gemfile_sources</span> <span class='op'>=</span> <span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_lock_sources'>lock_sources</span>

  <span class='id identifier rubyid_new_sources'>new_sources</span> <span class='op'>=</span> <span class='id identifier rubyid_gemfile_sources'>gemfile_sources</span> <span class='op'>-</span> <span class='ivar'>@locked_sources</span>
  <span class='id identifier rubyid_deleted_sources'>deleted_sources</span> <span class='op'>=</span> <span class='ivar'>@locked_sources</span> <span class='op'>-</span> <span class='id identifier rubyid_gemfile_sources'>gemfile_sources</span>

  <span class='id identifier rubyid_new_deps'>new_deps</span> <span class='op'>=</span> <span class='ivar'>@dependencies</span> <span class='op'>-</span> <span class='ivar'>@locked_deps</span>
  <span class='id identifier rubyid_deleted_deps'>deleted_deps</span> <span class='op'>=</span> <span class='ivar'>@locked_deps</span> <span class='op'>-</span> <span class='ivar'>@dependencies</span>

  <span class='comment'># Check if it is possible that the source is only changed thing
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_new_deps'>new_deps</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_deleted_deps'>deleted_deps</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_new_sources'>new_sources</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_deleted_sources'>deleted_sources</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_new_sources'>new_sources</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='op'>|</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_is_a_path?'>is_a_path?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_deleted_sources'>deleted_sources</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='op'>|</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_is_a_path?'>is_a_path?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@locked_sources</span> <span class='op'>!=</span> <span class='id identifier rubyid_gemfile_sources'>gemfile_sources</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_new_sources'>new_sources</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
      <span class='id identifier rubyid_added'>added</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_new_sources'>new_sources</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* source: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source'>source</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_deleted_sources'>deleted_sources</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
      <span class='id identifier rubyid_deleted'>deleted</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_deleted_sources'>deleted_sources</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* source: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source'>source</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_added'>added</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_new_deps'>new_deps</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pretty_dep'>pretty_dep</span><span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_deps'>new_deps</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_deleted_deps'>deleted_deps</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
    <span class='id identifier rubyid_deleted'>deleted</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_deleted_deps'>deleted_deps</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pretty_dep'>pretty_dep</span><span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_both_sources'>both_sources</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='ivar'>@dependencies</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='id identifier rubyid_both_sources'>both_sources</span><span class='lbracket'>[</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span> <span class='rbrace'>}</span>
  <span class='ivar'>@locked_deps</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>  <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='id identifier rubyid_both_sources'>both_sources</span><span class='lbracket'>[</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_both_sources'>both_sources</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='comma'>,</span> <span class='id identifier rubyid_lock_source'>lock_source</span><span class='rparen'>)</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_lock_source'>lock_source</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_lock_source'>lock_source</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_lock_source'>lock_source</span><span class='period'>.</span><span class='id identifier rubyid_can_lock?'>can_lock?</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gemfile_source_name'>gemfile_source_name</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no specified source</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_lockfile_source_name'>lockfile_source_name</span> <span class='op'>=</span> <span class='id identifier rubyid_lock_source'>lock_source</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no specified source</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_changed'>changed</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> from `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gemfile_source_name'>gemfile_source_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` to `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lockfile_source_name'>lockfile_source_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_change_reason'>change_reason</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\nYou have added to the Gemfile:\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_added'>added</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_added'>added</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\nYou have deleted from the Gemfile:\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_deleted'>deleted</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_deleted'>deleted</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\nYou have changed in the Gemfile:\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_changed'>changed</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_changed'>changed</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ProductionError</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span> <span class='kw'>if</span> <span class='id identifier rubyid_added'>added</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>||</span> <span class='id identifier rubyid_deleted'>deleted</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>||</span> <span class='id identifier rubyid_changed'>changed</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_nothing_changed?'>nothing_changed?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_indexed_specs-instance_method">
  
    #<strong>find_indexed_specs</strong>(current_spec)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


538
539
540</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 538</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_indexed_specs'>find_indexed_specs</span><span class='lparen'>(</span><span class='id identifier rubyid_current_spec'>current_spec</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_index'>index</span><span class='lbracket'>[</span><span class='id identifier rubyid_current_spec'>current_spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_match_platform'>match_platform</span><span class='lparen'>(</span><span class='id identifier rubyid_current_spec'>current_spec</span><span class='period'>.</span><span class='id identifier rubyid_platform'>platform</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:version</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_resolved_spec-instance_method">
  
    #<strong>find_resolved_spec</strong>(current_spec)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


534
535
536</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 534</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_resolved_spec'>find_resolved_spec</span><span class='lparen'>(</span><span class='id identifier rubyid_current_spec'>current_spec</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_find_by_name_and_platform'>find_by_name_and_platform</span><span class='lparen'>(</span><span class='id identifier rubyid_current_spec'>current_spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_current_spec'>current_spec</span><span class='period'>.</span><span class='id identifier rubyid_platform'>platform</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fixup_dependency_types!-instance_method">
  
    #<strong>fixup_dependency_types!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129
130
131
132
133
134
135
136
137
138
139</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 126</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fixup_dependency_types!'>fixup_dependency_types!</span>
  <span class='comment'># XXX This is a temporary workaround for a bug when using rubygems 1.8.15
</span>  <span class='comment'># where Gem::Dependency#== matches Gem::Dependency#type. As the lockfile
</span>  <span class='comment'># doesn&#39;t carry a notion of the dependency type, if you use
</span>  <span class='comment'># add_development_dependency in a gemspec that&#39;s loaded with the gemspec
</span>  <span class='comment'># directive, the lockfile dependencies and resolved dependencies end up
</span>  <span class='comment'># with a mismatch on #type.
</span>  <span class='comment'># Test coverage to catch a regression on this is in gemspec_spec.rb
</span>  <span class='ivar'>@dependencies</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_ld'>ld</span> <span class='op'>=</span> <span class='ivar'>@locked_deps</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_ld'>ld</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@type</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="groups-instance_method">
  
    #<strong>groups</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 294</span>

<span class='kw'>def</span> <span class='id identifier rubyid_groups'>groups</span>
  <span class='id identifier rubyid_dependencies'>dependencies</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:groups</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_local_dependencies?-instance_method">
  
    #<strong>has_local_dependencies?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


286
287
288</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 286</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_local_dependencies?'>has_local_dependencies?</span>
  <span class='op'>!</span><span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_path_sources'>path_sources</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_git_sources'>git_sources</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_rubygems_remotes?-instance_method">
  
    #<strong>has_rubygems_remotes?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


282
283
284</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 282</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_rubygems_remotes?'>has_rubygems_remotes?</span>
  <span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_rubygems_sources'>rubygems_sources</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_remotes'>remotes</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="index-instance_method">
  
    #<strong>index</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


257
258
259
260
261
262
263
264
265
266
267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 257</span>

<span class='kw'>def</span> <span class='id identifier rubyid_index'>index</span>
  <span class='ivar'>@index</span> <span class='op'>||=</span> <span class='const'>Index</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_idx'>idx</span><span class='op'>|</span>
    <span class='id identifier rubyid_dependency_names'>dependency_names</span> <span class='op'>=</span> <span class='ivar'>@dependencies</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:name</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_all_sources'>all_sources</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='op'>|</span>
      <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_dependency_names'>dependency_names</span> <span class='op'>=</span> <span class='id identifier rubyid_dependency_names'>dependency_names</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_idx'>idx</span><span class='period'>.</span><span class='id identifier rubyid_add_source'>add_source</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span>
      <span class='id identifier rubyid_dependency_names'>dependency_names</span> <span class='op'>-=</span> <span class='id identifier rubyid_pinned_spec_names'>pinned_spec_names</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_dependency_names'>dependency_names</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_unmet_deps'>unmet_deps</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_idx'>idx</span> <span class='op'>&lt;&lt;</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby\0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>RubyVersion</span><span class='period'>.</span><span class='id identifier rubyid_system'>system</span><span class='period'>.</span><span class='id identifier rubyid_to_gem_version_with_patchlevel'>to_gem_version_with_patchlevel</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_idx'>idx</span> <span class='op'>&lt;&lt;</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rubygems\0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>VERSION</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lock-instance_method">
  
    #<strong>lock</strong>(file, preserve_unknown_sections = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 298</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lock'>lock</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_preserve_unknown_sections'>preserve_unknown_sections</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='id identifier rubyid_to_lock'>to_lock</span>

  <span class='comment'># Convert to \r\n if the existing lock has them
</span>  <span class='comment'># i.e., Windows with `git config core.autocrlf=true`
</span>  <span class='id identifier rubyid_contents'>contents</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@lockfile_contents</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='ivar'>@locked_bundler_version</span>
    <span class='id identifier rubyid_locked_major'>locked_major</span> <span class='op'>=</span> <span class='ivar'>@locked_bundler_version</span><span class='period'>.</span><span class='id identifier rubyid_segments'>segments</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_current_major'>current_major</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Version</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='const'>Bundler</span><span class='op'>::</span><span class='const'>VERSION</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_segments'>segments</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_updating_major'>updating_major</span> <span class='op'>=</span> <span class='id identifier rubyid_locked_major'>locked_major</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_current_major'>current_major</span>
      <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_ui'>ui</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Warning: the lockfile is being updated to Bundler </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_major'>current_major</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> \
                      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>after which you will be unable to return to Bundler </span><span class='embexpr_beg'>#{</span><span class='ivar'>@locked_bundler_version</span><span class='period'>.</span><span class='id identifier rubyid_segments'>segments</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_preserve_unknown_sections'>preserve_unknown_sections</span> <span class='op'>||=</span> <span class='op'>!</span><span class='id identifier rubyid_updating_major'>updating_major</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:frozen</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='op'>!</span><span class='ivar'>@unlocking</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_lockfiles_equal?'>lockfiles_equal?</span><span class='lparen'>(</span><span class='ivar'>@lockfile_contents</span><span class='comma'>,</span> <span class='id identifier rubyid_contents'>contents</span><span class='comma'>,</span> <span class='id identifier rubyid_preserve_unknown_sections'>preserve_unknown_sections</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:frozen</span><span class='rbracket'>]</span>
    <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_ui'>ui</span><span class='period'>.</span><span class='id identifier rubyid_error'>error</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot write a changed lockfile while frozen.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='const'>SharedHelpers</span><span class='period'>.</span><span class='id identifier rubyid_filesystem_access'>filesystem_access</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span><span class='lparen'>(</span><span class='id identifier rubyid_contents'>contents</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="locked_bundler_version-instance_method">
  
    #<strong>locked_bundler_version</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


328
329
330
331
332
333
334</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 328</span>

<span class='kw'>def</span> <span class='id identifier rubyid_locked_bundler_version'>locked_bundler_version</span>
  <span class='kw'>if</span> <span class='ivar'>@locked_bundler_version</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@locked_bundler_version</span> <span class='op'>&lt;</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Version</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>Bundler</span><span class='op'>::</span><span class='const'>VERSION</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_new_version'>new_version</span> <span class='op'>=</span> <span class='const'>Bundler</span><span class='op'>::</span><span class='const'>VERSION</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new_version'>new_version</span> <span class='op'>||</span> <span class='ivar'>@locked_bundler_version</span> <span class='op'>||</span> <span class='const'>Bundler</span><span class='op'>::</span><span class='const'>VERSION</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="locked_ruby_version-instance_method">
  
    #<strong>locked_ruby_version</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


336
337
338
339
340
341
342
343</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 336</span>

<span class='kw'>def</span> <span class='id identifier rubyid_locked_ruby_version'>locked_ruby_version</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ruby_version'>ruby_version</span>
  <span class='kw'>if</span> <span class='ivar'>@unlock</span><span class='lbracket'>[</span><span class='symbol'>:ruby</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='op'>!</span><span class='ivar'>@locked_ruby_version</span>
    <span class='const'>Bundler</span><span class='op'>::</span><span class='const'>RubyVersion</span><span class='period'>.</span><span class='id identifier rubyid_system'>system</span>
  <span class='kw'>else</span>
    <span class='ivar'>@locked_ruby_version</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="locked_ruby_version_object-instance_method">
  
    #<strong>locked_ruby_version_object</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347
348
349
350
351
352
353
354
355</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 345</span>

<span class='kw'>def</span> <span class='id identifier rubyid_locked_ruby_version_object'>locked_ruby_version_object</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@locked_ruby_version</span>
  <span class='ivar'>@locked_ruby_version_object</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='const'>RubyVersion</span><span class='period'>.</span><span class='id identifier rubyid_from_string'>from_string</span><span class='lparen'>(</span><span class='ivar'>@locked_ruby_version</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>LockfileError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The Ruby version </span><span class='embexpr_beg'>#{</span><span class='ivar'>@locked_ruby_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> from </span><span class='tstring_end'>&quot;</span></span> \
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@lockfile</span><span class='embexpr_end'>}</span><span class='tstring_content'> could not be parsed. </span><span class='tstring_end'>&quot;</span></span> \
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Try running bundle update --ruby to resolve this.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_version'>version</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="missing_dependencies-instance_method">
  
    #<strong>missing_dependencies</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


214
215
216
217
218</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 214</span>

<span class='kw'>def</span> <span class='id identifier rubyid_missing_dependencies'>missing_dependencies</span>
  <span class='id identifier rubyid_missing'>missing</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_resolve'>resolve</span><span class='period'>.</span><span class='id identifier rubyid_materialize'>materialize</span><span class='lparen'>(</span><span class='id identifier rubyid_current_dependencies'>current_dependencies</span><span class='comma'>,</span> <span class='id identifier rubyid_missing'>missing</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_missing'>missing</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="missing_specs-instance_method">
  
    #<strong>missing_specs</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 208</span>

<span class='kw'>def</span> <span class='id identifier rubyid_missing_specs'>missing_specs</span>
  <span class='id identifier rubyid_missing'>missing</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_resolve'>resolve</span><span class='period'>.</span><span class='id identifier rubyid_materialize'>materialize</span><span class='lparen'>(</span><span class='id identifier rubyid_requested_dependencies'>requested_dependencies</span><span class='comma'>,</span> <span class='id identifier rubyid_missing'>missing</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_missing'>missing</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_platform?-instance_method">
  
    #<strong>new_platform?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 204</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_platform?'>new_platform?</span>
  <span class='ivar'>@new_platform</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_specs-instance_method">
  
    #<strong>new_specs</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


196
197
198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 196</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_specs'>new_specs</span>
  <span class='id identifier rubyid_specs'>specs</span> <span class='op'>-</span> <span class='ivar'>@locked_specs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_platform-instance_method">
  
    #<strong>remove_platform</strong>(platform)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidOption.html" title="Bundler::InvalidOption (class)">InvalidOption</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


523
524
525
526</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 523</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_platform'>remove_platform</span><span class='lparen'>(</span><span class='id identifier rubyid_platform'>platform</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@platforms</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='const'>Gem</span><span class='op'>::</span><span class='const'>Platform</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_platform'>platform</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidOption</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to remove the platform `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_platform'>platform</span><span class='embexpr_end'>}</span><span class='tstring_content'>` since the only platforms are </span><span class='embexpr_beg'>#{</span><span class='ivar'>@platforms</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="removed_specs-instance_method">
  
    #<strong>removed_specs</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 200</span>

<span class='kw'>def</span> <span class='id identifier rubyid_removed_specs'>removed_specs</span>
  <span class='ivar'>@locked_specs</span> <span class='op'>-</span> <span class='id identifier rubyid_specs'>specs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="requested_specs-instance_method">
  
    #<strong>requested_specs</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


220
221
222
223
224
225
226</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 220</span>

<span class='kw'>def</span> <span class='id identifier rubyid_requested_specs'>requested_specs</span>
  <span class='ivar'>@requested_specs</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_groups'>groups</span> <span class='op'>=</span> <span class='id identifier rubyid_requested_groups'>requested_groups</span>
    <span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_sym</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_specs_for'>specs_for</span><span class='lparen'>(</span><span class='id identifier rubyid_groups'>groups</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve-instance_method">
  
    #<strong>resolve</strong>  &#x21d2; <tt><span class='object_link'><a href="SpecSet.html" title="Bundler::SpecSet (class)">SpecSet</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Resolve all the dependencies specified in Gemfile. It ensures that
dependencies that have been already resolved via locked file and are fresh
are reused when resolving dependencies</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="SpecSet.html" title="Bundler::SpecSet (class)">SpecSet</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>resolved dependencies</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


243
244
245
246
247
248
249
250
251
252
253
254
255</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 243</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve'>resolve</span>
  <span class='ivar'>@resolve</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_last_resolve'>last_resolve</span> <span class='op'>=</span> <span class='id identifier rubyid_converge_locked_specs'>converge_locked_specs</span>
    <span class='kw'>if</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:frozen</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='op'>!</span><span class='ivar'>@unlocking</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_nothing_changed?'>nothing_changed?</span><span class='rparen'>)</span>
      <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_ui'>ui</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Found no changes, using resolution from the lockfile</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_last_resolve'>last_resolve</span>
    <span class='kw'>else</span>
      <span class='comment'># Run a resolve against the locally available gems
</span>      <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_ui'>ui</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Found changes from the lockfile, re-resolving dependencies because </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_change_reason'>change_reason</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_last_resolve'>last_resolve</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span> <span class='const'>Resolver</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='id identifier rubyid_expanded_dependencies'>expanded_dependencies</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='comma'>,</span> <span class='id identifier rubyid_source_requirements'>source_requirements</span><span class='comma'>,</span> <span class='id identifier rubyid_last_resolve'>last_resolve</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_version_promoter'>gem_version_promoter</span><span class='comma'>,</span> <span class='id identifier rubyid_additional_base_requirements_for_resolve'>additional_base_requirements_for_resolve</span><span class='comma'>,</span> <span class='id identifier rubyid_platforms'>platforms</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve_remotely!-instance_method">
  
    #<strong>resolve_remotely!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162
163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 160</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_remotely!'>resolve_remotely!</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specs already loaded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@specs</span>
  <span class='ivar'>@remote</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_remote!'>remote!</span>
  <span class='id identifier rubyid_specs'>specs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve_with_cache!-instance_method">
  
    #<strong>resolve_with_cache!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_with_cache!'>resolve_with_cache!</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specs already loaded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@specs</span>
  <span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_cached!'>cached!</span>
  <span class='id identifier rubyid_specs'>specs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rubygems_index-instance_method">
  
    #<strong>rubygems_index</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>used when frozen is enabled so we can find the bundler spec, even if (say)
a git gem is not checked out.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


274
275
276
277
278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 274</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rubygems_index'>rubygems_index</span>
  <span class='ivar'>@rubygems_index</span> <span class='op'>||=</span> <span class='const'>Index</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_idx'>idx</span><span class='op'>|</span>
    <span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_rubygems_sources'>rubygems_sources</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rubygems'>rubygems</span><span class='op'>|</span>
      <span class='id identifier rubyid_idx'>idx</span><span class='period'>.</span><span class='id identifier rubyid_add_source'>add_source</span> <span class='id identifier rubyid_rubygems'>rubygems</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="spec_git_paths-instance_method">
  
    #<strong>spec_git_paths</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


290
291
292</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 290</span>

<span class='kw'>def</span> <span class='id identifier rubyid_spec_git_paths'>spec_git_paths</span>
  <span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_git_sources'>git_sources</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="specs-instance_method">
  
    #<strong>specs</strong>  &#x21d2; <tt><span class='object_link'><a href="SpecSet.html" title="Bundler::SpecSet (class)">Bundler::SpecSet</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>For given dependency list returns a SpecSet with Gemspec of all the
required dependencies.</p>

<pre class="code ruby"><code class="ruby">1. The method first resolves the dependencies specified in Gemfile
2. After that it tries and fetches gemspec of resolved dependencies</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="SpecSet.html" title="Bundler::SpecSet (class)">Bundler::SpecSet</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_specs'>specs</span>
  <span class='ivar'>@specs</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve'>resolve</span><span class='period'>.</span><span class='id identifier rubyid_materialize'>materialize</span><span class='lparen'>(</span><span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:cache_all_platforms</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='id identifier rubyid_dependencies'>dependencies</span> <span class='op'>:</span> <span class='id identifier rubyid_requested_dependencies'>requested_dependencies</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'>GemNotFound</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='comment'># Handle yanked gem
</span>      <span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_version'>gem_version</span> <span class='op'>=</span> <span class='id identifier rubyid_extract_gem_info'>extract_gem_info</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_locked_gem'>locked_gem</span> <span class='op'>=</span> <span class='ivar'>@locked_specs</span><span class='lbracket'>[</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>if</span> <span class='id identifier rubyid_locked_gem'>locked_gem</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_locked_gem'>locked_gem</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>!=</span> <span class='id identifier rubyid_gem_version'>gem_version</span> <span class='op'>||</span> <span class='op'>!</span><span class='ivar'>@remote</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>GemNotFound</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your bundle is locked to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_locked_gem'>locked_gem</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but that version could not </span><span class='tstring_end'>&quot;</span></span> \
                         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>be found in any of the sources listed in your Gemfile. If you haven&#39;t changed sources, </span><span class='tstring_end'>&quot;</span></span> \
                         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>that means the author of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_locked_gem'>locked_gem</span><span class='embexpr_end'>}</span><span class='tstring_content'> has removed it. You&#39;ll need to update your bundle </span><span class='tstring_end'>&quot;</span></span> \
                         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>to a different version of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_locked_gem'>locked_gem</span><span class='embexpr_end'>}</span><span class='tstring_content'> that hasn&#39;t been removed in order to install.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundler</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
      <span class='id identifier rubyid_local'>local</span> <span class='op'>=</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:frozen</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='id identifier rubyid_rubygems_index'>rubygems_index</span> <span class='op'>:</span> <span class='id identifier rubyid_index'>index</span>
      <span class='id identifier rubyid_bundler'>bundler</span> <span class='op'>=</span> <span class='id identifier rubyid_local'>local</span><span class='period'>.</span><span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='const'>Gem</span><span class='op'>::</span><span class='const'>Dependency</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundler</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>VERSION</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
      <span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundler</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_bundler'>bundler</span> <span class='kw'>if</span> <span class='id identifier rubyid_bundler'>bundler</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_specs'>specs</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="specs_for-instance_method">
  
    #<strong>specs_for</strong>(groups)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


232
233
234
235
236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 232</span>

<span class='kw'>def</span> <span class='id identifier rubyid_specs_for'>specs_for</span><span class='lparen'>(</span><span class='id identifier rubyid_groups'>groups</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='id identifier rubyid_dependencies'>dependencies</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_groups'>groups</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_groups'>groups</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_should_include?'>should_include?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_for'>for</span><span class='lparen'>(</span><span class='id identifier rubyid_expand_dependencies'>expand_dependencies</span><span class='lparen'>(</span><span class='id identifier rubyid_deps'>deps</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_lock-instance_method">
  
    #<strong>to_lock</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 357</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_lock'>to_lock</span>
  <span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='const'>String</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_sources'>sources</span><span class='period'>.</span><span class='id identifier rubyid_lock_sources'>lock_sources</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='op'>|</span>
    <span class='comment'># Add the source header
</span>    <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_to_lock'>to_lock</span>
    <span class='comment'># Find all specs for this source
</span>    <span class='id identifier rubyid_resolve'>resolve</span><span class='period'>.</span>
      <span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_can_lock?'>can_lock?</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span>
      <span class='comment'># This needs to be sorted by full name so that
</span>      <span class='comment'># gems with the same name, but different platform
</span>      <span class='comment'># are ordered consistently
</span>      <span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:full_name</span><span class='rparen'>)</span><span class='period'>.</span>
      <span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundler</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_to_lock'>to_lock</span>
      <span class='kw'>end</span>
    <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PLATFORMS\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_platforms'>platforms</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
    <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DEPENDENCIES\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_handled'>handled</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dependencies'>dependencies</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_handled'>handled</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_to_lock'>to_lock</span>
    <span class='id identifier rubyid_handled'>handled</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_locked_ruby_version'>locked_ruby_version</span>
    <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nRUBY VERSION\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_locked_ruby_version'>locked_ruby_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Record the version of Bundler that was used to create the lockfile
</span>  <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nBUNDLED WITH\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_locked_bundler_version'>locked_bundler_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_out'>out</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_platforms!-instance_method">
  
    #<strong>validate_platforms!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ProductionError.html" title="Bundler::ProductionError (class)">ProductionError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


506
507
508
509
510
511
512
513
514
515
516</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 506</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_platforms!'>validate_platforms!</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@platforms</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_bundle_platform'>bundle_platform</span><span class='op'>|</span>
    <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_rubygems'>rubygems</span><span class='period'>.</span><span class='id identifier rubyid_platforms'>platforms</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_local_platform'>local_platform</span><span class='op'>|</span>
      <span class='const'>MatchPlatform</span><span class='period'>.</span><span class='id identifier rubyid_platforms_match?'>platforms_match?</span><span class='lparen'>(</span><span class='id identifier rubyid_bundle_platform'>bundle_platform</span><span class='comma'>,</span> <span class='id identifier rubyid_local_platform'>local_platform</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ProductionError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your bundle only supports platforms </span><span class='embexpr_beg'>#{</span><span class='ivar'>@platforms</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>but your local platforms are </span><span class='embexpr_beg'>#{</span><span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_rubygems'>rubygems</span><span class='period'>.</span><span class='id identifier rubyid_platforms'>platforms</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>, and </span><span class='tstring_end'>&quot;</span></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>there&#39;s no compatible match between those two lists.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_ruby!-instance_method">
  
    #<strong>validate_ruby!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 481</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_ruby!'>validate_ruby!</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ruby_version'>ruby_version</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_diff'>diff</span> <span class='op'>=</span> <span class='id identifier rubyid_ruby_version'>ruby_version</span><span class='period'>.</span><span class='id identifier rubyid_diff'>diff</span><span class='lparen'>(</span><span class='const'>Bundler</span><span class='op'>::</span><span class='const'>RubyVersion</span><span class='period'>.</span><span class='id identifier rubyid_system'>system</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_problem'>problem</span><span class='comma'>,</span> <span class='id identifier rubyid_expected'>expected</span><span class='comma'>,</span> <span class='id identifier rubyid_actual'>actual</span> <span class='op'>=</span> <span class='id identifier rubyid_diff'>diff</span>

    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_problem'>problem</span>
          <span class='kw'>when</span> <span class='symbol'>:engine</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your Ruby engine is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_actual'>actual</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but your Gemfile specified </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expected'>expected</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>when</span> <span class='symbol'>:version</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your Ruby version is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_actual'>actual</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but your Gemfile specified </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expected'>expected</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>when</span> <span class='symbol'>:engine_version</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your </span><span class='embexpr_beg'>#{</span><span class='const'>Bundler</span><span class='op'>::</span><span class='const'>RubyVersion</span><span class='period'>.</span><span class='id identifier rubyid_system'>system</span><span class='period'>.</span><span class='id identifier rubyid_engine'>engine</span><span class='embexpr_end'>}</span><span class='tstring_content'> version is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_actual'>actual</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but your Gemfile specified </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby_version'>ruby_version</span><span class='period'>.</span><span class='id identifier rubyid_engine'>engine</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expected'>expected</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>when</span> <span class='symbol'>:patchlevel</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_expected'>expected</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The Ruby patchlevel in your Gemfile must be a string</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>else</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your Ruby patchlevel is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_actual'>actual</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but your Gemfile specified </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expected'>expected</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RubyVersionMismatch</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_runtime!-instance_method">
  
    #<strong>validate_runtime!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


476
477
478
479</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/definition.rb', line 476</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_runtime!'>validate_runtime!</span>
  <span class='id identifier rubyid_validate_ruby!'>validate_ruby!</span>
  <span class='id identifier rubyid_validate_platforms!'>validate_platforms!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Mar 18 19:39:39 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.0).
</div>

    </div>
  </body>
</html>
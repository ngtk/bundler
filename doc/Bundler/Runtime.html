<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Bundler::Runtime
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Bundler::Runtime";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Bundler.html" title="Bundler (module)">Bundler</a></span></span>
     &raquo; 
    <span class="title">Runtime</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="../class_list.html"></iframe>

      <div id="content"><h1>Class: Bundler::Runtime
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Bundler::Runtime</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="SharedHelpers.html" title="Bundler::SharedHelpers (module)">SharedHelpers</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/bundler/runtime.rb</dd>
  </dl>
  
</div>


  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="REQUIRE_ERRORS-constant" class="">REQUIRE_ERRORS =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^no such file to load -- (.+)$</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^Missing \w+ (?:file\s*)?([^\s]+.rb)$</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^Missing API definition file in (.+)$</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^cannot load such file -- (.+)$</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^dlopen\([^)]*\): Library not loaded: (.+)$</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
<span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
    
  </dl>







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cache-instance_method" title="#cache (instance method)">#<strong>cache</strong>(custom_path = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clean-instance_method" title="#clean (instance method)">#<strong>clean</strong>(dry_run = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(root, definition)  &#x21d2; Runtime </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Runtime.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lock-instance_method" title="#lock (instance method)">#<strong>lock</strong>(opts = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prune_cache-instance_method" title="#prune_cache (instance method)">#<strong>prune_cache</strong>(cache_path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#require-instance_method" title="#require (instance method)">#<strong>require</strong>(*groups)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup-instance_method" title="#setup (instance method)">#<strong>setup</strong>(*groups)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="SharedHelpers.html" title="Bundler::SharedHelpers (module)">SharedHelpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="SharedHelpers.html#chdir-instance_method" title="Bundler::SharedHelpers#chdir (method)">#chdir</a></span>, <span class='object_link'><a href="SharedHelpers.html#const_get_safely-instance_method" title="Bundler::SharedHelpers#const_get_safely (method)">#const_get_safely</a></span>, <span class='object_link'><a href="SharedHelpers.html#default_bundle_dir-instance_method" title="Bundler::SharedHelpers#default_bundle_dir (method)">#default_bundle_dir</a></span>, <span class='object_link'><a href="SharedHelpers.html#default_gemfile-instance_method" title="Bundler::SharedHelpers#default_gemfile (method)">#default_gemfile</a></span>, <span class='object_link'><a href="SharedHelpers.html#default_lockfile-instance_method" title="Bundler::SharedHelpers#default_lockfile (method)">#default_lockfile</a></span>, <span class='object_link'><a href="SharedHelpers.html#filesystem_access-instance_method" title="Bundler::SharedHelpers#filesystem_access (method)">#filesystem_access</a></span>, <span class='object_link'><a href="SharedHelpers.html#in_bundle%3F-instance_method" title="Bundler::SharedHelpers#in_bundle? (method)">#in_bundle?</a></span>, <span class='object_link'><a href="SharedHelpers.html#major_deprecation-instance_method" title="Bundler::SharedHelpers#major_deprecation (method)">#major_deprecation</a></span>, <span class='object_link'><a href="SharedHelpers.html#print_major_deprecations%21-instance_method" title="Bundler::SharedHelpers#print_major_deprecations! (method)">#print_major_deprecations!</a></span>, <span class='object_link'><a href="SharedHelpers.html#pwd-instance_method" title="Bundler::SharedHelpers#pwd (method)">#pwd</a></span>, <span class='object_link'><a href="SharedHelpers.html#set_bundle_environment-instance_method" title="Bundler::SharedHelpers#set_bundle_environment (method)">#set_bundle_environment</a></span>, <span class='object_link'><a href="SharedHelpers.html#with_clean_git_env-instance_method" title="Bundler::SharedHelpers#with_clean_git_env (method)">#with_clean_git_env</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(root, definition)  &#x21d2; <tt><span class='object_link'><a href="" title="Bundler::Runtime (class)">Runtime</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Runtime</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/runtime.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_root'>root</span><span class='comma'>,</span> <span class='id identifier rubyid_definition'>definition</span><span class='rparen'>)</span>
  <span class='ivar'>@root</span> <span class='op'>=</span> <span class='id identifier rubyid_root'>root</span>
  <span class='ivar'>@definition</span> <span class='op'>=</span> <span class='id identifier rubyid_definition'>definition</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="cache-instance_method">
  
    #<strong>cache</strong>(custom_path = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/runtime.rb', line 135</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cache'>cache</span><span class='lparen'>(</span><span class='id identifier rubyid_custom_path'>custom_path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cache_path'>cache_path</span> <span class='op'>=</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_app_cache'>app_cache</span><span class='lparen'>(</span><span class='id identifier rubyid_custom_path'>custom_path</span><span class='rparen'>)</span>
  <span class='const'>SharedHelpers</span><span class='period'>.</span><span class='id identifier rubyid_filesystem_access'>filesystem_access</span><span class='lparen'>(</span><span class='id identifier rubyid_cache_path'>cache_path</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
  <span class='kw'>end</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_cache_path'>cache_path</span><span class='rparen'>)</span>

  <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_ui'>ui</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Updating files in </span><span class='embexpr_beg'>#{</span><span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='period'>.</span><span class='id identifier rubyid_app_cache_path'>app_cache_path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_specs_to_cache'>specs_to_cache</span> <span class='op'>=</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:cache_all_platforms</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='ivar'>@definition</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span><span class='period'>.</span><span class='id identifier rubyid_materialized_for_all_platforms'>materialized_for_all_platforms</span> <span class='op'>:</span> <span class='id identifier rubyid_specs'>specs</span>
  <span class='id identifier rubyid_specs_to_cache'>specs_to_cache</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundler</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Source</span><span class='op'>::</span><span class='const'>Gemspec</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:fetch_gem</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:cache_all_platforms</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:fetch_gem</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_cache'>cache</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='id identifier rubyid_custom_path'>custom_path</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:cache</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='const'>Dir</span><span class='lbracket'>[</span><span class='id identifier rubyid_cache_path'>cache_path</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*/.git</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_git_dir'>git_dir</span><span class='op'>|</span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_rm_rf'>rm_rf</span><span class='lparen'>(</span><span class='id identifier rubyid_git_dir'>git_dir</span><span class='rparen'>)</span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_touch'>touch</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>../.bundlecache</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_git_dir'>git_dir</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_prune_cache'>prune_cache</span><span class='lparen'>(</span><span class='id identifier rubyid_cache_path'>cache_path</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span><span class='lbracket'>[</span><span class='symbol'>:no_prune</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clean-instance_method">
  
    #<strong>clean</strong>(dry_run = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/runtime.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clean'>clean</span><span class='lparen'>(</span><span class='id identifier rubyid_dry_run'>dry_run</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gem_bins'>gem_bins</span>             <span class='op'>=</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/bin/*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_git_dirs'>git_dirs</span>             <span class='op'>=</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/bundler/gems/*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_git_cache_dirs'>git_cache_dirs</span>       <span class='op'>=</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cache/bundler/git/*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_gem_dirs'>gem_dirs</span>             <span class='op'>=</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/gems/*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_gem_files'>gem_files</span>            <span class='op'>=</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cache/*.gem</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_gemspec_files'>gemspec_files</span>        <span class='op'>=</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/specifications/*.gemspec</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_spec_gem_paths'>spec_gem_paths</span>       <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='comment'># need to keep git sources around
</span>  <span class='id identifier rubyid_spec_git_paths'>spec_git_paths</span>       <span class='op'>=</span> <span class='ivar'>@definition</span><span class='period'>.</span><span class='id identifier rubyid_spec_git_paths'>spec_git_paths</span>
  <span class='id identifier rubyid_spec_git_cache_dirs'>spec_git_cache_dirs</span>  <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_spec_gem_executables'>spec_gem_executables</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_spec_cache_paths'>spec_cache_paths</span>     <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_spec_gemspec_paths'>spec_gemspec_paths</span>   <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span>
    <span class='id identifier rubyid_spec_gem_paths'>spec_gem_paths</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_full_gem_path'>full_gem_path</span>
    <span class='comment'># need to check here in case gems are nested like for the rails git repo
</span>    <span class='id identifier rubyid_md'>md</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(.+bundler/gems/.+-[a-f0-9]{7,12})</span><span class='regexp_end'>}</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_full_gem_path'>full_gem_path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_spec_git_paths'>spec_git_paths</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_md'>md</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_md'>md</span>
    <span class='id identifier rubyid_spec_gem_executables'>spec_gem_executables</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_executables'>executables</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_executable'>executable</span><span class='op'>|</span>
      <span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_rubygems'>rubygems</span><span class='period'>.</span><span class='id identifier rubyid_gem_bindir'>gem_bindir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_executable'>executable</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='lbracket'>[</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_content'>.bat</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_spec_cache_paths'>spec_cache_paths</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_cache_file'>cache_file</span>
    <span class='id identifier rubyid_spec_gemspec_paths'>spec_gemspec_paths</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_spec_file'>spec_file</span>
    <span class='id identifier rubyid_spec_git_cache_dirs'>spec_git_cache_dirs</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_cache_path'>cache_path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Bundler</span><span class='op'>::</span><span class='const'>Source</span><span class='op'>::</span><span class='const'>Git</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_spec_gem_paths'>spec_gem_paths</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
  <span class='id identifier rubyid_spec_gem_executables'>spec_gem_executables</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>

  <span class='id identifier rubyid_stale_gem_bins'>stale_gem_bins</span>       <span class='op'>=</span> <span class='id identifier rubyid_gem_bins'>gem_bins</span> <span class='op'>-</span> <span class='id identifier rubyid_spec_gem_executables'>spec_gem_executables</span>
  <span class='id identifier rubyid_stale_git_dirs'>stale_git_dirs</span>       <span class='op'>=</span> <span class='id identifier rubyid_git_dirs'>git_dirs</span> <span class='op'>-</span> <span class='id identifier rubyid_spec_git_paths'>spec_git_paths</span> <span class='op'>-</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/bundler/gems/extensions</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_stale_git_cache_dirs'>stale_git_cache_dirs</span> <span class='op'>=</span> <span class='id identifier rubyid_git_cache_dirs'>git_cache_dirs</span> <span class='op'>-</span> <span class='id identifier rubyid_spec_git_cache_dirs'>spec_git_cache_dirs</span>
  <span class='id identifier rubyid_stale_gem_dirs'>stale_gem_dirs</span>       <span class='op'>=</span> <span class='id identifier rubyid_gem_dirs'>gem_dirs</span> <span class='op'>-</span> <span class='id identifier rubyid_spec_gem_paths'>spec_gem_paths</span>
  <span class='id identifier rubyid_stale_gem_files'>stale_gem_files</span>      <span class='op'>=</span> <span class='id identifier rubyid_gem_files'>gem_files</span> <span class='op'>-</span> <span class='id identifier rubyid_spec_cache_paths'>spec_cache_paths</span>
  <span class='id identifier rubyid_stale_gemspec_files'>stale_gemspec_files</span>  <span class='op'>=</span> <span class='id identifier rubyid_gemspec_files'>gemspec_files</span> <span class='op'>-</span> <span class='id identifier rubyid_spec_gemspec_paths'>spec_gemspec_paths</span>

  <span class='id identifier rubyid_removed_stale_gem_dirs'>removed_stale_gem_dirs</span> <span class='op'>=</span> <span class='id identifier rubyid_stale_gem_dirs'>stale_gem_dirs</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='op'>|</span> <span class='id identifier rubyid_remove_dir'>remove_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_dry_run'>dry_run</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_removed_stale_git_dirs'>removed_stale_git_dirs</span> <span class='op'>=</span> <span class='id identifier rubyid_stale_git_dirs'>stale_git_dirs</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='op'>|</span> <span class='id identifier rubyid_remove_dir'>remove_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_dry_run'>dry_run</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='id identifier rubyid_removed_stale_gem_dirs'>removed_stale_gem_dirs</span> <span class='op'>+</span> <span class='id identifier rubyid_removed_stale_git_dirs'>removed_stale_git_dirs</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_dry_run'>dry_run</span>
    <span class='id identifier rubyid_stale_files'>stale_files</span> <span class='op'>=</span> <span class='id identifier rubyid_stale_gem_bins'>stale_gem_bins</span> <span class='op'>+</span> <span class='id identifier rubyid_stale_gem_files'>stale_gem_files</span> <span class='op'>+</span> <span class='id identifier rubyid_stale_gemspec_files'>stale_gemspec_files</span>
    <span class='id identifier rubyid_stale_files'>stale_files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
      <span class='const'>SharedHelpers</span><span class='period'>.</span><span class='id identifier rubyid_filesystem_access'>filesystem_access</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__p'>_p</span><span class='op'>|</span>
        <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_rm'>rm</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_stale_git_cache_dirs'>stale_git_cache_dirs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cache_dir'>cache_dir</span><span class='op'>|</span>
      <span class='const'>SharedHelpers</span><span class='period'>.</span><span class='id identifier rubyid_filesystem_access'>filesystem_access</span><span class='lparen'>(</span><span class='id identifier rubyid_cache_dir'>cache_dir</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='op'>|</span>
        <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_rm_rf'>rm_rf</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lock-instance_method">
  
    #<strong>lock</strong>(opts = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/runtime.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lock'>lock</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@definition</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span><span class='lparen'>(</span><span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_default_lockfile'>default_lockfile</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:preserve_unknown_sections</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prune_cache-instance_method">
  
    #<strong>prune_cache</strong>(cache_path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


159
160
161
162
163
164
165
166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/runtime.rb', line 159</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prune_cache'>prune_cache</span><span class='lparen'>(</span><span class='id identifier rubyid_cache_path'>cache_path</span><span class='rparen'>)</span>
  <span class='const'>SharedHelpers</span><span class='period'>.</span><span class='id identifier rubyid_filesystem_access'>filesystem_access</span><span class='lparen'>(</span><span class='id identifier rubyid_cache_path'>cache_path</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
  <span class='kw'>end</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_cache_path'>cache_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resolve'>resolve</span> <span class='op'>=</span> <span class='ivar'>@definition</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span>
  <span class='id identifier rubyid_prune_gem_cache'>prune_gem_cache</span><span class='lparen'>(</span><span class='id identifier rubyid_resolve'>resolve</span><span class='comma'>,</span> <span class='id identifier rubyid_cache_path'>cache_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_prune_git_and_path_cache'>prune_git_and_path_cache</span><span class='lparen'>(</span><span class='id identifier rubyid_resolve'>resolve</span><span class='comma'>,</span> <span class='id identifier rubyid_cache_path'>cache_path</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="require-instance_method">
  
    #<strong>require</strong>(*groups)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/runtime.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_groups'>groups</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_sym</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='symbol'>:default</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='ivar'>@definition</span><span class='period'>.</span><span class='id identifier rubyid_dependencies'>dependencies</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span>
    <span class='comment'># Skip the dependency if it is not in any of the requested groups, or
</span>    <span class='comment'># not for the current platform, or doesn&#39;t match the gem constraints.
</span>    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_groups'>groups</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_groups'>groups</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_should_include?'>should_include?</span>

    <span class='id identifier rubyid_required_file'>required_file</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='kw'>begin</span>
      <span class='comment'># Loop through all the specified autorequires for the
</span>      <span class='comment'># dependency. If there are none, use the dependency&#39;s name
</span>      <span class='comment'># as the autorequire.
</span>      <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_autorequire'>autorequire</span> <span class='op'>||</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
        <span class='comment'># Allow `require: true` as an alias for `require: &lt;name&gt;`
</span>        <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>if</span> <span class='id identifier rubyid_file'>file</span> <span class='op'>==</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_required_file'>required_file</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span>
        <span class='kw'>begin</span>
          <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span> <span class='id identifier rubyid_file'>file</span>
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
          <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span> <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>LoadError</span><span class='rparen'>)</span> <span class='comment'># we handle this a little later
</span>          <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Bundler</span><span class='op'>::</span><span class='const'>GemRequireError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_e'>e</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>There was an error while trying to load the gem &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>LoadError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='const'>REQUIRE_ERRORS</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_autorequire'>autorequire</span> <span class='op'>||</span> <span class='backref'>$1</span> <span class='op'>!=</span> <span class='id identifier rubyid_required_file'>required_file</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_autorequire'>autorequire</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_namespaced_file'>namespaced_file</span> <span class='op'>=</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span> <span class='id identifier rubyid_namespaced_file'>namespaced_file</span>
        <span class='kw'>rescue</span> <span class='const'>LoadError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
          <span class='const'>REQUIRE_ERRORS</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='rbrace'>}</span>
          <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>if</span> <span class='backref'>$1</span> <span class='op'>!=</span> <span class='id identifier rubyid_namespaced_file'>namespaced_file</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setup-instance_method">
  
    #<strong>setup</strong>(*groups)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bundler/runtime.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup'>setup</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_groups'>groups</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_sym</span><span class='rparen'>)</span>

  <span class='comment'># Has to happen first
</span>  <span class='id identifier rubyid_clean_load_path'>clean_load_path</span>

  <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> <span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>?</span> <span class='ivar'>@definition</span><span class='period'>.</span><span class='id identifier rubyid_specs_for'>specs_for</span><span class='lparen'>(</span><span class='id identifier rubyid_groups'>groups</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_requested_specs'>requested_specs</span>

  <span class='const'>SharedHelpers</span><span class='period'>.</span><span class='id identifier rubyid_set_bundle_environment'>set_bundle_environment</span>
  <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_rubygems'>rubygems</span><span class='period'>.</span><span class='id identifier rubyid_replace_entrypoints'>replace_entrypoints</span><span class='lparen'>(</span><span class='id identifier rubyid_specs'>specs</span><span class='rparen'>)</span>

  <span class='comment'># Activate the specs
</span>  <span class='id identifier rubyid_load_paths'>load_paths</span> <span class='op'>=</span> <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_loaded_from'>loaded_from</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>GemNotFound</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is missing. Run `bundle` to get it.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_activated_spec'>activated_spec</span> <span class='op'>=</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_rubygems'>rubygems</span><span class='period'>.</span><span class='id identifier rubyid_loaded_specs'>loaded_specs</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_activated_spec'>activated_spec</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>!=</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
      <span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>LoadError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You have already activated </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_activated_spec'>activated_spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_activated_spec'>activated_spec</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> \
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>but your Gemfile requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Prepending </span><span class='tstring_end'>&quot;</span></span> \
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`bundle exec` to your command may solve this.</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:requirement=</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_requirement'>requirement</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Requirement</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_version_requirement'>version_requirement</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Requirement</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>end</span>

    <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_rubygems'>rubygems</span><span class='period'>.</span><span class='id identifier rubyid_mark_loaded'>mark_loaded</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_load_paths'>load_paths</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span> <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_reverse'>reverse</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>

  <span class='comment'># See Gem::Specification#add_self_to_load_path (since RubyGems 1.8)
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_insert_index'>insert_index</span> <span class='op'>=</span> <span class='const'>Bundler</span><span class='period'>.</span><span class='id identifier rubyid_rubygems'>rubygems</span><span class='period'>.</span><span class='id identifier rubyid_load_path_insert_index'>load_path_insert_index</span>
    <span class='comment'># Gem directories must come after -I and ENV[&#39;RUBYLIB&#39;]
</span>    <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='id identifier rubyid_insert_index'>insert_index</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_load_paths'>load_paths</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='comment'># We are probably testing in core, -I and RUBYLIB don&#39;t apply
</span>    <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_load_paths'>load_paths</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_setup_manpath'>setup_manpath</span>

  <span class='id identifier rubyid_lock'>lock</span><span class='lparen'>(</span><span class='symbol'>:preserve_unknown_sections</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Mar 18 19:39:37 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.0).
</div>

    </div>
  </body>
</html>